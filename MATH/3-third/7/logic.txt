хранить массив структур, при необходимости сделать откат : мы копируем список в другой и сокращаем 
количество изменений вдвое
необходимо хранить количество изменений, вовремя обнулять